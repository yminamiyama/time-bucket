# Time Bucket App — Human Intent Specification (Input)
# （タイムバケットアプリ：人間が書く“意図”仕様）

本ファイルは「AIが仕様を展開するための核となるドキュメント」であり、
*思想・目的・達成したい価値* を中心に記述する。

---

## 1. Purpose（目的）
人生の「やりたいこと」を年代ごとの“バケツ”（5〜10年区切り）に整理し、
**適切なタイミングで実行できるように可視化するアプリ**を作る。

ユーザーが人生の有限性を理解し、
「何を・いつ・どのリスクで実行すべきか」を判断できる状態をつくる。

このアプリは単なるバケットリストではなく、
**“行動を引き出す人生設計ツール”** として設計する。

---

## 2. Background（背景）
既存の「バケットリスト」には次の問題がある：

- 時期の概念がないため、実行タイミングが最適化されない  
- 若い時期にすべきこと／老後でもできることが混在する  
- モチベーションが維持されにくい  
- 極端に偏った人生計画になりがち  

「Die With Zero」で紹介されている  
**“Time Bucket（タイムバケット）”**を実践的なアプリ化することで、  
個人が「後悔のない人生」を設計しやすくなる。

---

## 3. Expected Users（想定ユーザー）
- 20〜60代で「人生計画」「自己実現」に興味がある層
- リベ大ユーザーや「価値観マップ」が好きなタイプ
- タスク管理より“自分の人生全体を俯瞰”したい人
- 過去の行動が制限され後悔しやすい人
- 仕事・家族・健康・旅行など多岐にわたる目標を整理したい人

---

## 4. Core Concept（中核となる思想）
以下を絶対に守る：

### ❌ CRUDアプリにしない  
単なる ToDo やメモアプリではなく、

### ✅ 行動につながる「意思決定アプリ」にする
- “人生の残り時間” を意識させる  
- 各年齢の特性（若さ・体力・家庭・お金）に応じて適正なタイミングを提示  
- バケツ間のバランス可視化  
- 「やりたいこと」→「実行計画」に落とすサポート  

---

## 5. What（実現したい機能：大枠）
### ▼ 5.1 TimeBucket（年代バケツ）
- 5年 or 10年区切りの年代バケツ
- ユーザーが自由に区切りを設定できる
- 各バケツに「やりたいこと」を放り込める

### ▼ 5.2 BucketItem（やりたいこと）
- タイトル  
- 詳細説明  
- カテゴリ（旅行/健康/家族/お金/キャリア…）  
- 難易度  
- リスクレベル（低・中・高）  
- 想定コスト  
- ステータス（planned / in_progress / done）  
- 実施予定日 or 時期  
- タグ  
- 追加メモ

### ▼ 5.3 ダッシュボード
- 各年代の「密度」を可視化  
- やりたいことの偏り  
- 今すぐやるべき項目（Age-based priority）  
- 完了バケツの可視化（経験の棚卸し）

### ▼ 5.4 自動インサイト（AI）
- 「この5年以内に実行しないと達成確率が下がる項目」
- 「やりたいことが若年期に偏っている場合のアラート」
- 「老後でも実行できる項目」

### ▼ 5.5 認証・ユーザー管理
- Google OAuth  
- プランによるデータ量制限（想定）

---

## 6. Value（アプリで得られる価値）
- 「人生で本当に重要なこと」が年代別に整理される  
- 後回しによる後悔が減る  
- 適切なリスクテイクがしやすくなる  
- 価値観に基づいた人生戦略を立てられる  
- 自己認識（内省）が深まる  
- 家族・パートナーと共有できる

---

## 7. Non-Goals（やらないこと）
- タスク管理アプリ化  
- 日々のスケジュール管理  
- なんでも記録できるメモアプリ化  
- 煩雑なSNS機能  
- 精密な日次行動ログ  

**“人生の俯瞰” が目的であり、細かい管理ツールにはしない。**

---

## 8. Tech Guidelines（技術方針）
### ▼ 8.1 Backend
- Ruby on Rails 8（API mode）
- Service層でロジックを整理（Fat Model禁止）
- RSpecでテスト
- JSON API + OpenAPI

### ▼ 8.2 Frontend
- Next.js App Router
- TypeScript
- TailwindCSS
- shadcn/ui

### ▼ 8.3 Infra
- AWS（ECS or Lambda構成の2案を比較）
- CI/CD: GitHub Actions

---

## 9. Domain Model（意図レベル）
AIに詳細生成を任せるため、意図のみに留める。

User
└── has_many TimeBuckets

TimeBucket
└── has_many BucketItems
└── attributes: start_age, end_age, label

BucketItem
└── attributes: title, description, risk, cost, category, status, target_year


---

## 10. Instructions for Specify（AIへの命令）
以下の方針で仕様を分割生成すること：

- ドメインモデル  
- API仕様（CRUDでなく意味ベースのエンドポイントにする）  
- フロントエンドUI/UX機能仕様  
- 非機能要件（NFR）  
- システムアーキテクチャ（Rails/Next.js/AWS）  
- データベーススキーマ  
- CI/CD仕様  
- AWSデプロイ構成案（ECS版・Lambda版の2案を必ず出す）

**すべてを構造化（箇条書き / テーブル / Mermaid図）で出力すること。**

---

## 11. Output Format（指定）
- Markdownで構造化
- 長文より「項目」「箇条書き」「表」を優先
- コードブロックを適宜使用
- UIは画面単位で仕様化（Figma風の記述でOK）

---

## 12. Notes for AI
- この文書は「意図」であり、矛盾があれば意図を優先して補完しても良い
- 足りない部分は推測せず、質問を促すこと
- バケットの思想（Die With Zero）は全仕様でブレずに反映する
